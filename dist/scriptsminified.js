let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function n(){return e}let o={};function i(e){let t=e.detailsUrl;if(o[t]){console.log("cache item found",o[t]),l(o[t]);return}return fetch(t).then(function(e){return e.json()}).then(function(e){o[t]=e,console.log(e),l(e)}).catch(function(e){console.error(e)})}function l(e){a({name:e.name,id:e.id,imageUrl:e.sprites.front_default,imageUrlBack:e.sprites.back_default,height:e.height,types:e.types.map(e=>e.type.name).join(", ")});document.getElementById("back2TopBtn").style.display="none"}function a(e){let t=document.querySelector("#modal-container");t.innerHTML="";let n=document.createElement("div");n.classList.add("modal");let o=document.createElement("div");o.classList.add("pokemon-card");let i=document.createElement("button");i.classList.add("modal-close"),i.innerText="X",i.addEventListener("click",c);let l=document.createElement("h2");l.innerText=`#${e.id} ${e.name}`;let a=document.createElement("img");a.classList.add("modal-img"),a.src=e.imageUrl;let s=document.createElement("img");s.classList.add("modal-img"),s.src=e.imageUrlBack;let d=document.createElement("p");d.innerText="Height: "+e.height+"m";let r=document.createElement("p");r.innerText="Types: "+e.types,o.appendChild(i),o.appendChild(l),o.appendChild(a),o.appendChild(s),o.appendChild(d),o.appendChild(r),n.appendChild(o),t.appendChild(n),t.classList.add("is-visible"),t.addEventListener("click",e=>{e.target===t&&c()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&c()})}function c(){document.querySelector("#modal-container").classList.remove("is-visible");document.querySelector(".modal > *").style.display="none";document.getElementById("back2TopBtn").style.display="block"}return{getAll:n,add:t,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e,n){t({name:e.name,id:n+1,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${n+1}.png`,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("li");o.classList.add("pokemon-list-item"),o.innerHTML=` 
                              <img src=${t.image}>                                  
                              <h2>#${t.id} ${t.name}</h2>
                          `,n.appendChild(o),o.addEventListener("click",()=>{i(t)})},dataForModal:l,showModal:a,hideModal:c}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});let back2TopBtn=document.getElementById("back2TopBtn");function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?back2TopBtn.style.display="block":back2TopBtn.style.display="none"}function backToTopFunction(){window.scrollTo({top:0,behavior:"smooth"})}window.onscroll=function(){scrollFunction()};